(function(e){function t(t){for(var o,n,a=t[0],c=t[1],l=t[2],u=0,p=[];u<a.length;u++)n=a[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&p.push(s[n][0]),s[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],o=!0,n=1;n<i.length;n++){var a=i[n];0!==s[a]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=i[0]))}return e}var o={},n={app:0},s={app:0},r=[];function a(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-70249842":"c9253ba4","chunk-b3064edc":"243c69a8"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.e=function(e){var t=[],i={"chunk-70249842":1,"chunk-b3064edc":1};n[e]?t.push(n[e]):0!==n[e]&&i[e]&&t.push(n[e]=new Promise((function(t,i){for(var o="css/"+({}[e]||e)+"."+{"chunk-70249842":"1759e4c3","chunk-b3064edc":"147c2fa5"}[e]+".css",s=c.p+o,r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var l=r[a],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===s))return t()}var p=document.getElementsByTagName("style");for(a=0;a<p.length;a++){l=p[a],u=l.getAttribute("data-href");if(u===o||u===s)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||s,r=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete n[e],d.parentNode.removeChild(d),i(r)},d.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){n[e]=0})));var o=s[e];if(0!==o)if(o)t.push(o[2]);else{var r=new Promise((function(t,i){o=s[e]=[t,i]}));t.push(o[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=a(e);var p=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(d);var i=s[e];if(0!==i){if(i){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",p.name="ChunkLoadError",p.type=o,p.request=n,i[1](p)}s[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(i,o,function(t){return e[t]}.bind(null,o));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var p=0;p<l.length;p++)t(l[p]);var d=u;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var o=i("85ec"),n=i.n(o);n.a},"06ac":function(e,t,i){},"131d":function(e,t,i){},2352:function(e,t,i){"use strict";var o=i("06ac"),n=i.n(o);n.a},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d"),i("b059"),i("619b"),i("6e25"),i("a347");var o=i("2b0e"),n=i("283e"),s=i.n(n),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("main",[i("nav",[i("span",[e._v(" ")]),e._v(" "),i("router-link",{class:{active:e.$route.name&&e.$route.name.match("petropolis")},attrs:{to:"/petropolis/Pipelines"},nativeOn:{click:function(t){e.routeClick("/petropolis/Pipelines")}}},[e._v("EXTINCTION REBELLION")]),e._v(" "),i("span",[e._v(" ")]),e._v(" "),i("div",{attrs:{id:"aside-scroll-to",title:"Skip To Content"},on:{click:e.scrollToAside}},[i("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_down")])])],1),e._v(" "),i("router-view",{attrs:{name:"map",id:"map"}})],1),e._v(" "),i("AppNav"),e._v(" "),i("aside",{class:{"no-flex":this.asideHidden}},[i("div",{attrs:{id:"aside-wraper"}},[i("div",{attrs:{id:"aside-toggle",title:"Toggle Content"},on:{click:e.toggleAside}},[e.asideHidden?i("i",{staticClass:"material-icons"},[e._v("menu")]):i("i",{staticClass:"material-icons"},[e._v("close")])]),e._v(" "),i("p",{class:{hidden:this.asideHidden},attrs:{id:"aside-heading"}},[e._v("act now")])]),e._v(" "),i("div",{ref:"asideContent",class:{hidden:this.asideHidden},attrs:{id:"content"}},[i("router-view")],1)])],1)},a=[],c=(i("a4d3"),i("4de4"),i("4160"),i("e439"),i("dbb4"),i("b64b"),i("159b"),i("ade3")),l=i("2f62"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.asideHidden?e._e():i("div",[e.nav.items?i("div",{attrs:{id:"items"}},e._l(e.nav.items,(function(t){return i("router-link",{key:t.name,staticClass:"btn",attrs:{to:t.href},nativeOn:{click:function(i){e.routeClick(t.href)}}},[e._v(e._s(t.name))])}))):e._e(),e._v(" "),e.navSubItems?i("div",{attrs:{id:"subItems"}},e._l(e.navSubItems,(function(t){return i("router-link",{key:t.name,staticClass:"btn subItem",attrs:{to:t.href},nativeOn:{click:function(i){e.routeClick(t.href)}}},[e._v(e._s(t.name))])}))):e._e()])},p=[];i("b0c0");function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){Object(c["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var m={name:"AppNav",data:function(){return{nav:[],navSubItems:[],petropolis:{items:[{name:"Pipelines",href:"/petropolis/pipelines"},{name:"Tar Sands",href:"/petropolis/tarsands"},{name:"Chicago",href:"/petropolis/chicago"}]}}},computed:f({},Object(l["b"])(["asideHidden"])),watch:{$route:function(e,t){this.initNav()}},mounted:function(){this.initNav()},methods:{initNav:function(){/petropolis/.test(this.$route.name)?this.nav=this.petropolis:this.nav=[],/petropolisTarSands/.test(this.$route.name)?this.navSubItems=this.subItems.tarsands:this.navSubItems=[]},routeClick:function(e){e===this.$route.path&&we.$emit("route-click")}}},h=m,v=(i("e4b0"),i("2877")),g=Object(v["a"])(h,u,p,!1,null,"4ed50961",null),b=g.exports;function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach((function(t){Object(c["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var P={name:"App",components:{AppNav:b},watch:{$route:function(e,t){document.querySelector("aside > #content").scrollTop=0}},computed:w({},Object(l["b"])(["asideHidden"])),methods:{toggleAside:function(){this.$store.dispatch("toggle")},scrollToAside:function(){this.$refs.asideContent.scrollIntoView()},routeClick:function(e){e===this.$route.path&&we.$emit("route-click")}}},O=P,j=(i("034f"),Object(v["a"])(O,r,a,!1,null,null,null)),k=j.exports,_=(i("d3b7"),i("8c4f")),C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aside-content"},[e._m(0),e._v(" "),i("img",{staticClass:"fullwidth",attrs:{src:"images/OilHead.jpg"}}),i("div",{staticClass:"caption"}),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),i("p",[e._v("The collapse of climate and ecosystems is accelerating. We are nearly out of time. Decades of protests, petitions and donations to environmental groups have done nothing to slow catastrophic change. Food and water shortages, resource wars, economic breakdown, and millions of new climate refugees are on the horizon. Human survival itself is at risk as temperatures continue to rise.")]),e._v(" "),i("p",[e._v("Extinction Rebellion uses nonviolent direct actions and peaceful civil disobedience to disrupt business-as-usual in order to compel governments to act now to save a livable climate.")]),e._v(" "),i("p"),e._v(" "),i("br"),e._v(" "),i("Accordion",{attrs:{open:!1}},[i("h3",{attrs:{slot:"header"},slot:"header"},[e._v("legend")]),e._v(" "),i("div",{staticClass:"flex"},[i("p",[i("strong",[e._v("coming soon")])])])])],1)},S=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"text-align":"center"}},[i("h1",{staticStyle:{color:"#E00607","font-size":"170%"}},[e._v("before it's too late")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[i("strong")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticStyle:{"font-size":"120%"}},[i("strong",[i("em",[e._v('From the Tars Sands to the Gulf of Mexico, the pipeline network pumps out a future of melting icecaps, sea-level rise, drought and forest fires. For the oilmen, every city is "Petropolis."')])])])}],x=i("e711"),L=i("d54e"),N={name:"PetropolisPipelines",components:{Accordion:L["a"],AppLightBox:x["a"]},methods:{emit:function(e,t){we.$emit(e,t)}}},E=N,$=(i("bde3"),Object(v["a"])(E,C,S,!1,null,"3a2f240f",null)),T=$.exports,A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"map",attrs:{id:"map"}},[i("div",{ref:"vimeoPopup",staticClass:"ol-popup ol-vimeopopup"},[i("div",{ref:"vimeoPopupCloser",staticClass:"ol-popup-closer",on:{click:e.closePopup}}),e._v(" "),i("div",{ref:"vimeoPopupContent",staticClass:"ol-popup-content"})]),e._v(" "),i("div",{ref:"twitterPopup",staticClass:"ol-popup ol-twitterpopup"},[i("div",{ref:"twitterpopupCloser",staticClass:"ol-popup-closer",on:{click:e.closePopup}}),e._v(" "),i("div",{staticClass:"ol-popup-twitter-content"},[i("div",{ref:"loadingTweets",staticClass:"twitter-loading hidden"},[e._v("Loading Tweets...")]),e._v(" "),i("div",{ref:"twitterContent"})])]),e._v(" "),i("div",{ref:"popup",staticClass:"ol-popup"},[i("div",{ref:"popupCloser",staticClass:"ol-popup-closer",on:{click:e.closePopup}}),e._v(" "),i("div",{ref:"popupContent",staticClass:"ol-popup-content"})]),e._v(" "),i("div",{ref:"titletip",staticClass:"titletip"},[i("div",{ref:"titletipContent",staticClass:"titletip-content"})]),e._v(" "),i("div",{ref:"textitletip",staticClass:"textitletip"},[i("div",{ref:"textitletipContent",staticClass:"textitletip-content"})]),e._v(" "),i("div",{ref:"mileagetitletip",staticClass:"mileagetitletip"},[i("div",{ref:"mileagetitletipContent",staticClass:"mileagetitletip-content"})]),e._v(" "),i("div",{ref:"whitetitletip",staticClass:"whitetitletip"},[i("div",{ref:"whitetitletipContent",staticClass:"whitetitletip-content"})]),e._v(" "),i("div",{ref:"salmontip",staticClass:"salmontip"},[i("div",{ref:"salmontipContent",staticClass:"salmontip-content"})]),e._v(" "),i("div",{ref:"tooltip",staticClass:"ol-tooltip"})])},R=[],V=(i("d81d"),i("ac1f"),i("5319"),i("5bc0"),i("0710")),M=i("5eee"),H=i("a2c7"),J=i("3e6b"),G=i("5831"),B=i("a2e1"),F=i("6c77"),D=i("6cbf"),I=i("8682"),q=i("83a6"),z=i("8f3a"),W=i("9d47"),Q=i("256f");function X(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function K(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?X(Object(i),!0).forEach((function(t){Object(c["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):X(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var U,Z,Y={name:"Map",data:function(){return{olmap:void 0,styleCache:{}}},created:function(){we.$on("set-map-view",this.setMapView)},beforeDestroy:function(){we.$off("set-map-view",this.setMapView)},computed:K({},Object(l["b"])(["asideHidden"]),{vimeoPopup:function(){return new V["a"]({element:this.$refs.vimeoPopup,offset:[10,0],positioning:"center-right",autoPan:!0,autoPanAnimation:{duration:250}})},twitterPopup:function(){return new V["a"]({element:this.$refs.twitterPopup,autoPan:!0,autoPanAnimation:{duration:250},positioning:"center-right"})},popup:function(){return new V["a"]({element:this.$refs.popup,autoPan:!0,autoPanMargin:40,autoPanAnimation:{duration:250}})},titletip:function(){return new V["a"]({element:this.$refs.titletip,offset:[10,0],positioning:"center-left"})},textitletip:function(){return new V["a"]({element:this.$refs.textitletip,offset:[10,0],positioning:"center-left"})},whitetitletip:function(){return new V["a"]({element:this.$refs.whitetitletip,offset:[10,0],positioning:"center-left"})},mileagetitletip:function(){return new V["a"]({element:this.$refs.mileagetitletip})},salmontip:function(){return new V["a"]({element:this.$refs.salmontip,offset:[10,0],positioning:"center"})},tooltip:function(){return new V["a"]({element:this.$refs.tooltip,offset:[10,0],positioning:"center-left"})}}),watch:{$route:function(e,t){this.closePopup(),this.initMap()},asideHidden:function(){this.olmap.updateSize(),this.toggleScaleLine()}},methods:{initMap:function(){},initBaseMap:function(){var e=this;this.olmap||(this.olmap=new M["a"]({target:"map",overlays:[this.twitterPopup,this.popup,this.titletip,this.textitletip,this.mileagetitletip,this.whitetitletip,this.salmontip,this.tooltip,this.vimeoPopup],controls:Object(z["a"])({attributionOptions:{collapsible:!0}}).extend([new W["a"]({units:"us",minWidth:150})])}),this.toggleScaleLine(),this.olmap.on("singleclick",(function(t){var i=e.olmap.forEachFeatureAtPixel(t.pixel,(function(e){return e}));if(i){var o=i.getProperties();o.title&&o.image&&o.text1?(e.$refs.popupContent.innerHTML="<h4>"+o.title+"</h4>",e.$refs.popupContent.innerHTML+=o.image?o.image.replace("cascadia/",""):"",e.$refs.popupContent.innerHTML+=o.text1+"<br>",e.$refs.popupContent.innerHTML+=o.text2?o.text2+"<br>":"",e.$refs.popupContent.innerHTML+=o.text3?o.text3+"<br>":"",e.popup.setPosition(t.coordinate),e.closeTooltip()):o.key?(e.$refs.popupContent.innerHTML=o.key,e.popup.setPosition(t.coordinate)):o.vimeoSrc}else e.closePopup()})),window.addEventListener("keydown",(function(t){27===t.keyCode&&e.closePopup()})),window.addEventListener("resize",(function(t){e.toggleScaleLine()})),this.olmap.on("pointermove",(function(t){var i=e.olmap.getEventPixel(t.originalEvent),o=e.olmap.hasFeatureAtPixel(i);e.$refs.map.style.cursor=o?"pointer":""})))},closePopup:function(){return this.popup.setPosition(void 0),this.$refs.popupCloser.blur(),this.twitterPopup.setPosition(void 0),this.$refs.twitterpopupCloser.blur(),this.vimeoPopup.setPosition(void 0),this.$refs.vimeoPopupCloser.blur(),this.$refs.vimeoPopupContent.innerHTML="",!1},closeTitletip:function(){return this.titletip.setPosition(void 0),!1},closeTextitletip:function(){return this.textitletip.setPosition(void 0),!1},closeMileagetitletip:function(){return this.mileagetitletip.setPosition(void 0),!1},closeWhitetitletip:function(){return this.whitetitletip.setPosition(void 0),!1},closeSalmontip:function(){return this.salmontip.setPosition(void 0),!1},closeTooltip:function(){return this.tooltip.setPosition(void 0),!1},geoJSONPointVectorLayerStyle:function(e){return e.values_&&e.values_["icon"]&&!this.styleCache[e.values_["icon"]]&&(this.styleCache[e.values_["icon"]]=new F["b"]({image:new D["a"]({scale:1,rotateWithView:!1,anchor:[.5,43],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:1,src:e.values_["icon"]||"icons/dam.png"})})),this.styleCache[e.values_["icon"]]},makeGeoJSONPointVectorLayerWithStyle:function(e,t,i,o,n){return new J["a"]({source:new G["a"]({url:e,format:new B["a"]}),minResolution:i,maxResolution:o,style:this.geoJSONPointVectorLayerStyle,label:t})},makeGeoJSONPointVectorLayer:function(e,t,i,o,n,s){return new J["a"]({source:new G["a"]({url:e,format:new B["a"]}),minResolution:o,maxResolution:n,style:new F["b"]({image:new D["a"]({src:t,opacity:void 0===s?1:s})}),label:i})},makeGeoJSONFillVectorLayer:function(e,t,i,o,n,s){return new J["a"]({source:new G["a"]({format:new B["a"],url:e}),minResolution:t,maxResolution:i,style:new F["b"]({stroke:new I["a"]({color:o,width:n}),fill:new q["a"]({color:s})}),fill:s,fillColor:s})},makeGeoJSONLineVectorLayer:function(e,t,i,o,n){return new J["a"]({source:new G["a"]({format:new B["a"],url:e}),minResolution:t,maxResolution:i,style:new F["b"]({stroke:new I["a"]({color:o,width:n})}),strokeColor:o})},toggleScaleLine:function(){this.asideHidden||window.innerWidth<850?document.querySelector(".ol-scale-line").classList.remove("hidden"):document.querySelector(".ol-scale-line").classList.add("hidden")},setMapView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.center&&(t["center"]=Object(Q["c"])(e["center"])),e.resolution&&(t["resolution"]=e.resolution),e.minResolution?t["minResolution"]=e.minResolution:t["minResolution"]=1,e.maxResolution?t["maxResolution"]=e.maxResolution:t["maxResolution"]=16e3,this.olmap.setView(new H["a"](t))}}},ee=Y,te=Object(v["a"])(ee,A,R,!1,null,null,null),ie=te.exports,oe=i("480c"),ne=i("9c78"),se=i("a226"),re=i("2ef1"),ae=(i("4d63"),i("25f0"),i("d4ec")),ce=i("bee2"),le=(i("fd4b"),function(){function e(t){Object(ae["a"])(this,e),this.url=t,this.root=document.querySelector("body")}return Object(ce["a"])(e,[{key:"open",value:function(){this.render(this.url),this.events()}},{key:"render",value:function(e){var t=this.template('<div class="mediabox-wrap" role="dialog" aria-hidden="false"><div class="mediabox-content" role="document" tabindex="0"><span id="mediabox-esc" class="mediabox-close" aria-label="close" tabindex="1"></span><iframe src="{embed}?autoplay=1" frameborder="0" allowfullscreen></iframe></div></div>',{embed:e});this.lastFocusElement=document.activeElement,this.root.insertAdjacentHTML("beforeend",t),document.body.classList.add("stop-scroll")}},{key:"events",value:function(){var e=document.querySelector(".mediabox-wrap"),t=document.querySelector(".mediabox-content");e.addEventListener("click",function(t){(t.target&&"SPAN"===t.target.nodeName&&"mediabox-close"===t.target.className||"DIV"===t.target.nodeName&&"mediabox-wrap"===t.target.className||"mediabox-content"===t.target.className&&"IFRAME"!==t.target.nodeName)&&this.close(e)}.bind(this),!1),document.addEventListener("focus",(function(e){t&&!t.contains(e.target)&&(e.stopPropagation(),t.focus())}),!0),t.addEventListener("keypress",function(t){13===t.keyCode&&this.close(e)}.bind(this),!1)}},{key:"close",value:function(e){if(null===e)return!0;var t=null;t&&clearTimeout(t),e.classList.add("mediabox-hide"),t=setTimeout(function(){var e=document.querySelector(".mediabox-wrap");null!==e&&(document.body.classList.remove("stop-scroll"),this.root.removeChild(e),this.lastFocusElement.focus())}.bind(this),500)}},{key:"template",value:function(e,t){var i;for(i in t)t.hasOwnProperty(i)&&(e=e.replace(new RegExp("{"+i+"}","g"),t[i]));return e}}]),e}()),ue={name:"MapPetropolis",extends:ie,data:function(){return{centerPoints:{pipelines:{center:[-95.2128,42.8],resolution:6e3},tarsands:{center:[-111.439654,56.9275],resolution:180},chicago:{center:[-87.75,41.767832],resolution:150}},radius:250,mousePosition:void 0}},computed:{baseLayers:function(){var e=this,t=new oe["a"]({source:new se["a"]({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:1,maxResolution:10});return t.on("precompose",(function(t){e.spyglass(t)})),t.on("postcompose",(function(e){e.context.restore()})),[new oe["a"]({source:new re["a"]({url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png"}),opacity:1,minResolution:.25}),this.makeGeoJSONFillVectorLayer("geojson/Crude_Terminals.geojson",.25,40,"rgba(134, 40, 26, 0.7)",3,"rgba(134, 40, 26, 0.1)"),this.makeGeoJSONLineVectorLayer("geojson/NA-RR.geojson",16,8e3,"dimgray",1),this.makeGeoJSONLineVectorLayer("geojson/Crude_Pipelines1.geojson",1,16e3,"#c21313",3.5),this.makeGeoJSONLineVectorLayer("geojson/Enbridge_Pipe***lines.geojson",1,16e3,"#000000",3.5),this.makeGeoJSONPointVectorLayer("geojson/NA_Refineries.geojson","icons/OilIcon2.png",null,1,16e3),this.makeGeoJSONPointVectorLayer("geojson/CrudeDerailments.geojson","icons/Explosion.gif",null,1,16e3),this.makeGeoJSONPointVectorLayer("geojson/Anthroquakes.geojson","icons/Earthquake.gif",null,1,16e3),this.makeGeoJSONPointVectorLayer("geojson/BreakFreeProtests.geojson","icons/Break.gif",null,40,16e3),t]},petropolisTarSandsLayers:function(){var e=this,t=new oe["a"]({source:new se["a"]({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:1,maxResolution:10});return t.on("precompose",(function(t){e.spyglass(t)})),t.on("postcompose",(function(e){e.context.restore()})),[new oe["a"]({source:new re["a"]({url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png"}),opacity:1,minResolution:.25}),this.makeGeoJSONFillVectorLayer("geojson/TarSandsFootprints2.geojson",.25,4e3,"black",.6,"rgba(244, 164, 96, 0.6)"),this.makeGeoJSONFillVectorLayer("geojson/Crude_Terminals.geojson",.25,40,"rgba(134, 40, 26, 0.7)",3,"rgba(134, 40, 26, 0.1)"),this.makeGeoJSONLineVectorLayer("geojson/NA-RR.geojson",16,8e3,"dimgray",1),this.makeGeoJSONLineVectorLayer("geojson/Crude_Pipelines1.geojson",1,16e3,"#c21313",3.5),this.makeGeoJSONLineVectorLayer("geojson/Enbridge_Pipe****lines.geojson",1,16e3,"#000000",3.5),this.makeGeoJSONPointVectorLayer("geojson/NA_Refineries.geojson","icons/refinery-red.gif",null,1,8e3),this.makeGeoJSONPointVectorLayer("geojson/Question.geojson","icons/Question.gif",null,40,4e3),this.makeGeoJSONPointVectorLayer("geojson/ShylePierce.geojson","icons/ShylePierce.png",null,40,400),this.makeGeoJSONPointVectorLayer("geojson/Escape.geojson","icons/Escape.png",null,40,400),this.makeGeoJSONPointVectorLayer("geojson/Petropolis.geojson","icons/Petropolis.png",null,40,400),t]},petropolisChicagoLayers:function(){return[new oe["a"]({source:new re["a"]({url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png"}),opacity:1,minResolution:.25}),new oe["a"]({source:new re["a"]({url:"http://environmentalobservatory.net/Petropolis/tiles/{z}/{x}/{y}.png"}),opacity:1,minResolution:.25,updateWhileAnimating:!0}),this.makeGeoJSONFillVectorLayer("geojson/Crude_Terminals.geojson",.25,40,"rgba(134, 40, 26, 0.7)",3,"rgba(134, 40, 26, 0.1)"),this.makeGeoJSONLineVectorLayer("geojson/NA-RR.geojson",16,8e3,"dimgray",1),this.makeGeoJSONLineVectorLayer("geojson/Crude_Pipelines1.geojson",1,16e3,"#c21313",3.5),this.makeGeoJSONPointVectorLayer("geojson/NA_Refineries.geojson","icons/refinery-red.gif",null,1,8e3)]}},created:function(){we.$on("route-click",this.initMap)},beforeDestroy:function(){we.$off("route-click",this.initMap)},mounted:function(){var e=this;this.initMap(),window.addEventListener("keydown",(function(t){38===t.keyCode?(e.radius=Math.min(e.radius+5,800),e.olmap.render()):40===t.keyCode&&(e.radius=Math.max(e.radius-5,0),e.olmap.render())})),this.olmap.on("pointermove",(function(t){var i=e.olmap.forEachFeatureAtPixel(t.pixel,(function(e){return e}));if(i){var o=i.getProperties();o.key&&(e.$refs.titletipContent.innerHTML=o.key,e.titletip.setPosition(t.coordinate))}else e.closeTitletip(),e.closeTooltip();e.mousePosition=e.olmap.getEventPixel(t.originalEvent),e.olmap.render()}))},methods:{initMap:function(){switch(this.$route.name){case"petropolisPipelines":this.initPetropolisPipelines();break;case"petropolisTarSands":this.initPetropolisTarSands();break;case"petropolisChicago":this.initPetropolisChicago();break;default:this.initPetropolisPipelines()}},initPetropolisPipelines:function(){var e=this;this.initBaseMap(),this.olmap.setLayerGroup(new ne["a"]({layers:this.baseLayers})),this.olmap.setView(new H["a"]({center:Object(Q["c"])(this.centerPoints.pipelines.center),resolution:this.centerPoints.pipelines.resolution,minResolution:1,maxResolution:32e3})),this.olmap&&this.olmap.on("singleclick",(function(t){var i=e.olmap.forEachFeatureAtPixel(t.pixel,(function(e){return e}));if(i){var o=i.getProperties();if(o.vimeoSrc){var n=new le(o.vimeoSrc);n.open()}}}))},initPetropolisTarSands:function(){var e=this;this.initBaseMap(),this.olmap.setLayerGroup(new ne["a"]({layers:this.petropolisTarSandsLayers})),this.olmap.setView(new H["a"]({center:Object(Q["c"])(this.centerPoints.tarsands.center),resolution:this.centerPoints.tarsands.resolution,minResolution:1,maxResolution:16e3})),this.olmap&&this.olmap.on("singleclick",(function(t){var i=e.olmap.forEachFeatureAtPixel(t.pixel,(function(e){return e}));if(i){var o=i.getProperties();if(o.vimeoSrc2){var n=new le(o.vimeoSrc2);n.open()}}}))},initPetropolisChicago:function(){var e=this;this.initBaseMap(),this.olmap.setLayerGroup(new ne["a"]({layers:this.petropolisChicagoLayers})),this.olmap.setView(new H["a"]({center:Object(Q["c"])(this.centerPoints.chicago.center),resolution:this.centerPoints.chicago.resolution,minResolution:1,maxResolution:16e3})),this.olmap&&this.olmap.on("singleclick",(function(t){var i=e.olmap.forEachFeatureAtPixel(t.pixel,(function(e){return e}));if(i){var o=i.getProperties();if(o.vimeoSrc3){var n=new le(o.vimeoSrc2);n.open()}}}))},spyglass:function(e){var t=e.context,i=e.frameState.pixelRatio;t.save(),t.beginPath(),this.mousePosition&&(t.arc(this.mousePosition[0]*i,this.mousePosition[1]*i,this.radius*i,0,2*Math.PI),t.lineWidth=5*i,t.strokeStyle="rgba(0,0,0,0.5)",t.stroke()),t.clip()}}},pe=ue,de=Object(v["a"])(pe,U,Z,!1,null,null,null),fe=de.exports;o["a"].use(_["a"]);var me=new _["a"]({routes:[{path:"/",redirect:"/petropolis/Pipelines"},{path:"/petropolis/Pipelines",name:"petropolisPipelines",components:{default:T,map:fe}},{path:"/petropolis/tarsands",name:"petropolisTarSands",components:{default:function(){return i.e("chunk-70249842").then(i.bind(null,"861c"))},map:fe}},{path:"/petropolis/chicago",name:"petropolisChicago",components:{default:function(){return i.e("chunk-b3064edc").then(i.bind(null,"5c4d"))},map:fe}}]});o["a"].use(l["a"]);var he={asideHidden:!1},ve={toggle:function(e){e.asideHidden=!e.asideHidden}},ge={toggle:function(e){e.commit("toggle")}},be={asideHidden:function(e){return e.asideHidden}},ye=new l["a"].Store({state:he,getters:be,actions:ge,mutations:ve});i.d(t,"eventBus",(function(){return we})),o["a"].use(s.a),o["a"].config.productionTip=!1;var we=new o["a"];new o["a"]({router:me,store:ye,render:function(e){return e(k)}}).$mount("#app")},"85ec":function(e,t,i){},a347:function(e,t,i){},b059:function(e,t,i){},bde3:function(e,t,i){"use strict";var o=i("131d"),n=i.n(o);n.a},d3c3:function(e,t,i){"use strict";var o=i("d602"),n=i.n(o);n.a},d54e:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("article",{ref:"accordion",class:e.accordionClasses},[i("div",{staticClass:"heading",on:{click:e.toggleAccordion}},[e.isOpen?i("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_up")]):i("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_down")]),e._v(" "),i("span",{staticClass:"headingText"},[e._t("header")],2)]),e._v(" "),i("div",{staticClass:"body"},[i("div",{staticClass:"content"},[e._t("default")],2)])])},n=[],s={name:"Accordion",props:{open:Boolean},data:function(){return{isOpen:this.open}},computed:{accordionClasses:function(){return{"is-closed":!this.isOpen}}},methods:{toggleAccordion:function(){var e=this;this.isOpen=!this.isOpen,this.isOpen&&this.$refs.accordion.offsetTop>window.innerHeight&&setTimeout((function(){e.$refs.accordion.scrollIntoView()}),500)}}},r=s,a=(i("d3c3"),i("2877")),c=Object(a["a"])(r,o,n,!1,null,"2942699e",null);t["a"]=c.exports},d602:function(e,t,i){},de32:function(e,t,i){},e4b0:function(e,t,i){"use strict";var o=i("de32"),n=i.n(o);n.a},e711:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"link",on:{click:e.open}},[e._t("default")],2),e._v(" "),e.isOpen?i("LightBox",{attrs:{images:e.images,showCaption:!0},on:{onOpened:e.onOpenChange}}):e._e()],1)},n=[],s=i("1c09"),r=i.n(s),a={name:"AppLightBox",components:{LightBox:r.a},props:{images:Array},data:function(){return{isOpen:!1}},methods:{open:function(){this.isOpen=!0},onOpenChange:function(e){this.isOpen=e}}},c=a,l=(i("2352"),i("2877")),u=Object(l["a"])(c,o,n,!1,null,"5cc4adc2",null);t["a"]=u.exports},fd4b:function(e,t,i){}});
//# sourceMappingURL=app.22d52025.js.map