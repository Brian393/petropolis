(function(e){function t(t){for(var n,i,a=t[0],l=t[1],c=t[2],p=0,u=[];p<a.length;p++)i=a[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(u.length)u.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var e,t=0;t<s.length;t++){for(var o=s[t],n=!0,i=1;i<o.length;i++){var a=o[i];0!==r[a]&&(n=!1)}n&&(s.splice(t--,1),e=l(l.s=o[0]))}return e}var n={},i={app:0},r={app:0},s=[];function a(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-44145c42":"eae8f5cb","chunk-4640ef3a":"bc65bdbb"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.e=function(e){var t=[],o={"chunk-44145c42":1,"chunk-4640ef3a":1};i[e]?t.push(i[e]):0!==i[e]&&o[e]&&t.push(i[e]=new Promise((function(t,o){for(var n="css/"+({}[e]||e)+"."+{"chunk-44145c42":"911e3323","chunk-4640ef3a":"113d71fd"}[e]+".css",r=l.p+n,s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var c=s[a],p=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(p===n||p===r))return t()}var u=document.getElementsByTagName("style");for(a=0;a<u.length;a++){c=u[a],p=c.getAttribute("data-href");if(p===n||p===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||r,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete i[e],d.parentNode.removeChild(d),o(s)},d.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(d)})).then((function(){i[e]=0})));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=s);var c,p=document.createElement("script");p.charset="utf-8",p.timeout=120,l.nc&&p.setAttribute("nonce",l.nc),p.src=a(e);var u=new Error;c=function(t){p.onerror=p.onload=null,clearTimeout(d);var o=r[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",u.name="ChunkLoadError",u.type=n,u.request=i,o[1](u)}r[e]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:p})}),12e4);p.onerror=p.onload=c,document.head.appendChild(p)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(o,n,function(t){return e[t]}.bind(null,n));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],p=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=p;s.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"029e":function(e,t,o){"use strict";var n=o("5e2e"),i=o.n(n);i.a},"034f":function(e,t,o){"use strict";var n=o("85ec"),i=o.n(n);i.a},"06ac":function(e,t,o){},1288:function(e,t,o){},2352:function(e,t,o){"use strict";var n=o("06ac"),i=o.n(n);i.a},"56d7":function(e,t,o){"use strict";o.r(t);o("d3b7"),o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("b059"),o("619b"),o("6e25"),o("a347");var n=o("2b27"),i=o.n(n),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("a",{staticClass:"info-pop-up__link",attrs:{href:"#",isLoading:e.isLoading},on:{click:this.handleInfoPopUpLinkClick}},[o("span",{staticClass:"info-pop-up__wrapper-inner"},[e._t("default"),e._v(" "),o("span",{staticClass:"info-pop-up__load-wrapper",style:"visibility: "+(e.isLoading?"visible":"hidden")+"; height: "+(e.isLoading?"1em":"0px")+"; vertical-align: middle;"},[o("img",{staticClass:"info-pop-up__load",attrs:{align:"middle",src:"/icons/ball-loader.gif"}})])],2)])},s=[],a=(o("99af"),o("a15b"),o("d81d"),o("fb6a"),o("ac1f"),o("8a79"),o("5319"),o("1276"),o("498a"),function(e,t,o){try{if(!t)throw new Error('You didn\'t provide a filename properly. Please use v-bind:fileName="\'myfile\'", without ".html" at the end.');var n=t.trim();t.endsWith(".html")&&(n=n.substring(0,n.length-5)),n=n.replace(/[^a-zA-Z0-9/-]+/g,""),fetch("/html/".concat(n,".html")).then((function(t){t.text().then((function(t){var i=n.replace("-"," ").split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ");o&&(e.$data.isLoading=!1,e.oldUrl=window.location.href,window.history.replaceState({oldUrl:window.location.href,oldTitle:document.title},i,window.location.href+"?infoPopUp=".concat(n))),e.$modal.show({template:'\n                  <div class="info-pop-up__modal-inner">\n                    <div class="info-pop-up__modal-close-wrapper">\n                    <button class="info-pop-up__modal-close" @click="$modal.hide(\'info-pop-up\')">\n                      ❌\n                    </button>\n                  </div>\n                    <h1>'.concat(i,"</h1>\n                    ").concat(t,"\n                  </div>\n                ")},{},{height:"auto",scrollable:!0,name:"info-pop-up"},{"before-close":function(e){window.history.replaceState({},document.title,window.location.href.split("?")[0])}})}))}))}catch(i){console.warn(i)}}),l="info-pop-up",c={props:{fileName:String,title:String},data:function(){return{isLoading:!1}},methods:{handleInfoPopUpLinkClick:function(){this.$data.isLoading=!0,this.doInfoPopUp(this,this.fileName,!0)},doInfoPopUp:a}};window.infoPopupHtml=function(e){return function(t){var o=document.querySelector($e)["__vue__"],n=!0;t.preventDefault(),a(o,e,n)}};var p=c,u=(o("9f2d"),o("2877")),d=Object(u["a"])(p,r,s,!1,null,null,null),m=d.exports,h=o("a026"),f=o("283e"),g=o.n(f),y=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("main",[o("nav",[o("span",[e._v(" ")]),e._v(" "),o("router-link",{class:{active:e.$route.name&&e.$route.name.match("petropolis")},attrs:{to:"/petropolis/oil"},nativeOn:{click:function(t){e.routeClick("/petropolis/oil")}}},[e._v("Petropolis")]),e._v(" "),o("span",[e._v(" ")]),e._v(" "),o("div",{attrs:{id:"aside-scroll-to",title:"Skip To Content"},on:{click:e.scrollToAside}},[o("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_down")])])],1),e._v(" "),o("router-view",{attrs:{name:"map",id:"map"}}),e._v(" "),o("v-dialog",{attrs:{name:"request-location"}}),e._v(" "),o("modals-container")],1),e._v(" "),o("AppNav"),e._v(" "),o("aside",{class:{"no-flex":this.asideHidden}},[o("div",{attrs:{id:"aside-wraper"}},[o("div",{attrs:{id:"aside-toggle",title:"Toggle Content"},on:{click:e.toggleAside}},[e.asideHidden?o("i",{staticClass:"material-icons"},[e._v("menu")]):o("i",{staticClass:"material-icons"},[e._v("close")])]),e._v(" "),o("p",{class:{hidden:this.asideHidden},attrs:{id:"aside-heading"}},[e._v("it's all fossil fuels")])]),e._v(" "),o("div",{ref:"asideContent",class:{hidden:this.asideHidden},attrs:{id:"content"}},[o("router-view")],1)])],1)},v=[],b=(o("a4d3"),o("4de4"),o("4160"),o("e439"),o("dbb4"),o("b64b"),o("159b"),o("ade3")),w=o("2f62"),L=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.asideHidden?e._e():o("div",[e.nav.items?o("div",{attrs:{id:"items"}},e._l(e.nav.items,(function(t){return o("router-link",{key:t.name,staticClass:"btn",attrs:{to:t.href},nativeOn:{click:function(o){e.routeClick(t.href)}}},[e._v(e._s(t.name))])}))):e._e(),e._v(" "),e.navSubItems?o("div",{attrs:{id:"subItems"}},e._l(e.navSubItems,(function(t){return o("router-link",{key:t.name,staticClass:"btn subItem",attrs:{to:t.href},nativeOn:{click:function(o){e.routeClick(t.href)}}},[e._v(e._s(t.name))])}))):e._e()])},_=[];o("b0c0");function P(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function C(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?P(Object(o),!0).forEach((function(t){Object(b["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):P(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var O={name:"AppNav",data:function(){return{nav:[],navSubItems:[],petropolis:{items:[{name:"Oil",href:"/petropolis/oil"},{name:"Natural Gas",href:"/petropolis/gas"},{name:"Coal",href:"/petropolis/coal"}]},subItems:{pipelines:[{name:"Industry",href:"/petropolis/oil/industry"},{name:"World",href:"/petropolis/oil/world"}],gas:[{name:"Industry",href:"/petropolis/gas/industry"},{name:"World",href:"/petropolis/gas/world"}],coal:[{name:"Industry",href:"/petropolis/coal/industry"},{name:"World",href:"/petropolis/coal/world"}]}}},computed:C({},Object(w["b"])(["asideHidden"])),watch:{$route:function(e,t){this.initNav()}},mounted:function(){this.initNav()},methods:{initNav:function(){/petropolis/.test(this.$route.name)?this.nav=this.petropolis:this.nav=[],/petropolisOil/.test(this.$route.name)?this.navSubItems=this.subItems.pipelines:/petropolisGas/.test(this.$route.name)?this.navSubItems=this.subItems.gas:/petropolisCoal/.test(this.$route.name)?this.navSubItems=this.subItems.coal:this.navSubItems=[]},routeClick:function(e){e===this.$route.path&&Ve.$emit("route-click")}}},S=O,k=(o("9ace"),Object(u["a"])(S,L,_,!1,null,"7e912a1f",null)),j=k.exports;function G(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function x(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?G(Object(o),!0).forEach((function(t){Object(b["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):G(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var M={name:"App",components:{AppNav:j},watch:{$route:function(e,t){document.querySelector("aside > #content").scrollTop=0}},computed:x({},Object(w["b"])(["asideHidden"])),mounted:function(){this.$route.query&&this.$route.query.infoPopUp&&a(this,this.$route.query.infoPopUp,!1)},methods:{toggleAside:function(){this.$store.dispatch("toggle")},scrollToAside:function(){this.$refs.asideContent.scrollIntoView()},routeClick:function(e){e===this.$route.path&&Ve.$emit("route-click")}}},N=M,T=(o("034f"),Object(u["a"])(N,y,v,!1,null,null,null)),R=T.exports,$=o("8c4f"),V=o("f2fb"),I=o("2909"),H=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"map",attrs:{id:"map"}},[o("div",{ref:"spotlightControls",staticClass:"spotlightControls"},[e._v("press ↑ or ↓ to change spotlight size")]),e._v(" "),e._m(0),e._v(" "),o("div",{ref:"vimeoPopup",staticClass:"ol-popup ol-vimeopopup"},[o("div",{ref:"vimeoPopupCloser",staticClass:"ol-popup-closer",on:{click:e.closePopup}}),e._v(" "),o("div",{ref:"vimeoPopupContent",staticClass:"ol-popup-content"})]),e._v(" "),o("div",{ref:"twitterPopup",staticClass:"ol-popup ol-twitterpopup"},[o("div",{ref:"twitterpopupCloser",staticClass:"ol-popup-closer",on:{click:e.closePopup}}),e._v(" "),o("div",{staticClass:"ol-popup-twitter-content"},[o("div",{ref:"loadingTweets",staticClass:"twitter-loading hidden"},[e._v("Loading Tweets...")]),e._v(" "),o("div",{ref:"twitterContent"})])]),e._v(" "),o("div",{ref:"popup",staticClass:"ol-popup"},[o("div",{ref:"popupCloser",staticClass:"ol-popup-closer",on:{click:e.closePopup}}),e._v(" "),o("div",{ref:"popupContent",staticClass:"ol-popup-content"}),e._v(" "),e.activeFeature?o("div",{staticClass:"zoomToFeature"},[e.popupConfig.hiddenLayerNames.includes(e.getLayerName(e.activeLayer))?e._e():o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){e.zoomToFeature()}}},[o("strong",[e._v(e._s("Point"===e.activeFeature.getGeometry().getType()?"DIVE":"VIEW WHOLE FEATURE"))])])]):e._e()]),e._v(" "),o("div",{ref:"titletip",staticClass:"titletip"},[o("div",{ref:"titletipContent",staticClass:"titletip-content"})]),e._v(" "),o("div",{ref:"textitletip",staticClass:"textitletip"},[o("div",{ref:"textitletipContent",staticClass:"textitletip-content"})]),e._v(" "),o("div",{ref:"mileagetitletip",staticClass:"mileagetitletip"},[o("div",{ref:"mileagetitletipContent",staticClass:"mileagetitletip-content"})]),e._v(" "),o("div",{ref:"whitetitletip",staticClass:"whitetitletip"},[o("div",{ref:"whitetitletipContent",staticClass:"whitetitletip-content"})]),e._v(" "),o("div",{ref:"salmontip",staticClass:"salmontip"},[o("div",{ref:"salmontipContent",staticClass:"salmontip-content"})]),e._v(" "),o("div",{ref:"tooltip",staticClass:"ol-tooltip"}),e._v(" "),o("app-lightbox",{ref:"lightbox",attrs:{images:e.lightBoxImages}})],1)},J=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ol-control locateMe-control"},[o("button",{staticClass:"locateMe",attrs:{title:"Locate me"}},[e._v("◎")])])}],E=(o("e01a"),o("baa5"),o("3ca3"),o("ddb0"),o("2b3d"),o("53ca")),A=(o("5bc0"),o("0710")),W=o("5eee"),U=o("a2c7"),D=o("3e6b"),z=o("5831"),B=o("97e6"),F=o("fdb7"),q=o("78db"),Y=o("a2e1"),Z=o("6c77"),X=o("8682"),K=o("83a6"),Q=o("ce2c"),ee=o("6cbf"),te=o("8f3a"),oe=o("9d47"),ne=o("3900"),ie=o("256f"),re=o("5bc3"),se=o("4cdf"),ae=o("f403"),le=o("e711");function ce(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function pe(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(o),!0).forEach((function(t){Object(b["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ce(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var ue,de,me={name:"Map",components:{"app-lightbox":le["a"]},data:function(){return{olmap:void 0,styleCache:{},activeFeature:null,popupInfoLayerSource:null,lightBoxImages:[],popupConfig:null}},created:function(){Ve.$on("set-map-view",this.setMapView)},beforeDestroy:function(){Ve.$off("set-map-view",this.setMapView)},computed:pe({},Object(w["b"])(["asideHidden"]),{vimeoPopup:function(){return new A["a"]({element:this.$refs.vimeoPopup,offset:[10,0],positioning:"center-right",autoPan:!0,autoPanAnimation:{duration:250}})},twitterPopup:function(){return new A["a"]({element:this.$refs.twitterPopup,autoPan:!0,autoPanAnimation:{duration:250},positioning:"center-right"})},popup:function(){return new A["a"]({element:this.$refs.popup,autoPan:!0,autoPanMargin:40,autoPanAnimation:{duration:250}})},titletip:function(){return new A["a"]({element:this.$refs.titletip,offset:[10,0],positioning:"center-left"})},textitletip:function(){return new A["a"]({element:this.$refs.textitletip,offset:[10,0],positioning:"center-left"})},whitetitletip:function(){return new A["a"]({element:this.$refs.whitetitletip,offset:[10,0],positioning:"center-left"})},mileagetitletip:function(){return new A["a"]({element:this.$refs.mileagetitletip})},salmontip:function(){return new A["a"]({element:this.$refs.salmontip,offset:[10,0],positioning:"center"})},tooltip:function(){return new A["a"]({element:this.$refs.tooltip,offset:[10,0],positioning:"center-left"})}}),watch:{$route:function(e,t){this.closePopup(),this.initMap()},asideHidden:function(){this.olmap.updateSize(),this.toggleScaleLine()}},methods:{initMap:function(){},initBaseMap:function(){var e=this;if(!this.olmap){this.olmap=new W["a"]({target:"map",overlays:[this.twitterPopup,this.popup,this.titletip,this.textitletip,this.mileagetitletip,this.whitetitletip,this.salmontip,this.tooltip,this.vimeoPopup],controls:Object(te["a"])({attributionOptions:{collapsible:!0}}).extend([new oe["a"]({units:"us",minWidth:150}),new ne["a"]({element:document.querySelector(".spotlightControls")})])}),this.toggleScaleLine(),this.olmap.on("singleclick",(function(t){var o,n;if(e.olmap.forEachFeatureAtPixel(t.pixel,(function(e,t){o=e,n=t})),e.activeLayer=n,e.popupConfig||(e.popupConfig=e.$appConfig.map.popup),e.popupInfoLayerSource&&e.popupInfoLayerSource.clear(),e.lightBoxImages&&(e.lightBoxImages=[]),e.sidePanelInitialHtmlState&&(document.getElementById("feature-content").innerHTML=e.sidePanelInitialHtmlState,e.sidePanelInitialHtmlState=""),e.sidePanelInitialImageSrc&&(document.getElementById("sidepanel-image").src=e.sidePanelInitialImageSrc,e.sidePanelInitialImageSrc=""),o){var i=o.getProperties();if(Array.isArray(i.lightbox))return i.lightbox.forEach((function(t){var o,n="";"object"===Object(E["a"])(t)?(o=t.imageUrl,n=t.caption):o=t;var i=e.parseUrl(o);e.lightBoxImages.push({src:i,thumb:i,caption:n})})),void e.$refs.lightbox.open();var r=o.getGeometry().getClosestPoint(t.coordinate);e.olmap.getView().animate({center:r,duration:400}),i.title&&i.image?(e.$refs.popupContent.innerHTML="<h4>"+i.title+"</h4>",e.$refs.popupContent.innerHTML+=i.image?i.image.replace("cascadia/",""):"",e.$refs.popupContent.innerHTML+=i.text1+"<br>",e.$refs.popupContent.innerHTML+=i.text2?i.text2+"<br>":"",e.$refs.popupContent.innerHTML+=i.text3?i.text3+"<br>":"",e.popup.setPosition(r),e.closeTooltip()):i.type&&i.corporation&&i.name?(e.$refs.popupContent.innerHTML="<h2>"+i.type+"</h2><br>",e.$refs.popupContent.innerHTML+="<strong>NAME:</strong> "+i.name+"<br>",e.$refs.popupContent.innerHTML+="<strong>OWNER:</strong> "+i.corporation+"<br>",e.$refs.popupContent.innerHTML+="<strong>DESCRIPTION:</strong> "+i.description+"<br>",e.$refs.popupContent.innerHTML+="<strong>CAPACITY:</strong> "+i.capacity+"<br>",e.$refs.popupContent.innerHTML+="<strong>CORPORATE WEBSITE:</strong> <a href='"+i.link1+"' target='_blank'>here</a><br>",e.$refs.popupContent.innerHTML+="<strong>More information:</strong>  <a href='"+i.link2+"' target='_blank'>here</a> and ",e.$refs.popupContent.innerHTML+="<a href='"+i.link3+"' target='_blank'>here</a>",e.popup.setPosition(r),e.closeTooltip()):i.ProjectType&&i.Company?(e.$refs.popupContent.innerHTML="<h2>"+i.ProjectType+"</h2><br>",e.$refs.popupContent.innerHTML+="<strong>Company:</strong> "+i.Company+"<br>",e.$refs.popupContent.innerHTML+="<strong>Plant or Project:</strong> "+i.Plant_or_Project+"<br>",e.$refs.popupContent.innerHTML+="<strong>State:</strong> "+i.State+"<br>",e.$refs.popupContent.innerHTML+="<strong>County/Parish:</strong> "+i.County_Parish+"<br>",e.$refs.popupContent.innerHTML+="<strong>Classification:</strong> "+i.Classification+"<br>",e.$refs.popupContent.innerHTML+="<strong>Sector:</strong> "+i.Sector+"<br>",e.$refs.popupContent.innerHTML+="<strong>Description:</strong> "+i.Description+"<br>",e.$refs.popupContent.innerHTML+="<strong>Type(s):</strong> "+i.Types+"<br>",e.$refs.popupContent.innerHTML+="<strong>CO2 equivalent, tons per year:</strong> "+i.CO2e_tpy+"<br>",e.$refs.popupContent.innerHTML+="<strong>PM10, tons per year:</strong> "+i.PM10_tpy+"<br>",e.$refs.popupContent.innerHTML+="<strong>PM2.5, tons per year:</strong> "+i.PM25_tpy+"<br>",e.$refs.popupContent.innerHTML+="<strong>PM, tons per year:</strong> "+i.PM_tpy+"<br>",e.$refs.popupContent.innerHTML+="<strong>NOx, tons per year:</strong> "+i.NOx_tpy+"<br>",e.$refs.popupContent.innerHTML+="<strong>VOC, tons per year:</strong> "+i.VOC_tpy+"<br>",e.$refs.popupContent.innerHTML+="<strong>SO2, tons per year:</strong> "+i.SO2_tpy+"<br>",e.$refs.popupContent.innerHTML+="<strong>CO, tons per year:</strong> "+i.CO_tpy+"<br>",e.$refs.popupContent.innerHTML+="<strong>GHG Permit Status:</strong> "+i.GHG_Permit_Status+"<br>",e.$refs.popupContent.innerHTML+="<strong>Permit History (permit no., type, issue date):</strong> "+i.Permit_History_permit_no_type_issue_date+"<br>",e.$refs.popupContent.innerHTML+="<strong>Permit Documents:</strong> "+i.Permit_Documents+"<br>",e.$refs.popupContent.innerHTML+="<strong>State Facility ID(s):</strong> "+i.State_Facility_IDs+"<br>",e.$refs.popupContent.innerHTML+="<strong>Link to State Permitting Website:</strong> "+i.Link_to_State_Permitting_Website+"<br>",e.$refs.popupContent.innerHTML+="<strong>Link to State Enforcement Records:</strong> "+i.Link_to_State_Enforcement_Records+"<br>",e.$refs.popupContent.innerHTML+="<strong>EPA Compliance Report:</strong> "+i.EPA_Compliance_Report+"<br>",e.$refs.popupContent.innerHTML+="<strong>Congressional Representative, Political Party:</strong> "+i.Congressional_Representative_Political_Party+"<br>",e.$refs.popupContent.innerHTML+="<strong>Permit Status Last Updated by EIP Staff:</strong> "+i.Permit_Status_Last_Updated_by_EIP_Staff+"<br>",e.$refs.popupContent.innerHTML+="<strong>Operational Status:</strong> "+i.Operational_Status+"<br>",e.$refs.popupContent.innerHTML+="<strong>Year Operating or Expected Completion Date:</strong> "+i.Year_Operating_or_Expected_Completion_Date+"<br>",e.$refs.popupContent.innerHTML+="<strong>Operational Status Sources:</strong> "+i.Operational_Status_Sources+"<br>",e.$refs.popupContent.innerHTML+="<strong>Operational Status Links:</strong> "+i.Operational_Status_Links+"<br>",e.$refs.popupContent.innerHTML+="<strong>Operating Status Last Updated by EIP Staff:</strong> "+i.Operating_Status_Last_Updated_by_EIP_Staff+"<br>",e.$refs.popupContent.innerHTML+="<strong>Total Population (1 mile):</strong> "+i.Total_Population_1_mile+"<br>",e.$refs.popupContent.innerHTML+="<strong>Percent Minority (1 mile):</strong> "+i.Percent_Minority_1_mile+"<br>",e.$refs.popupContent.innerHTML+="<strong>Percent Low Income (1 mile):</strong> "+i.Percent_Low_Income_1_mile+"<br>",e.$refs.popupContent.innerHTML+="<strong>Percent Younger than 5 (1 mile):</strong> "+i.Percent_Younger_than_5+"<br>",e.$refs.popupContent.innerHTML+="<strong>Percent Older than 64 (1 mile):</strong> "+i.Percent_Older_than_64_1_mile+"<br>",e.$refs.popupContent.innerHTML+="<strong>Total Population (3 miles):</strong> "+i.Total_Population_3_miles+"<br>",e.$refs.popupContent.innerHTML+="<strong>Percent Minority (3 miles):</strong> "+i.Percent_Minority_3_miles+"<br>",e.$refs.popupContent.innerHTML+="<strong>Percent Low Income (3 miles):</strong> "+i.Percent_Low_Income_3_miles+"<br>",e.$refs.popupContent.innerHTML+="<strong>Percent Younger than 5 (3 miles):</strong> "+i.Percent_Younger_than_5_3_miles+"<br>",e.$refs.popupContent.innerHTML+="<strong>Percent Older than 64 (3 miles):</strong> "+i.Percent_Older_than_64_3_miles+"<br>",e.popup.setPosition(r),e.closeTooltip()):i.type&&i.description&&i.Operator?(e.$refs.popupContent.innerHTML="<h2>"+i.type+"line</h4><br>",e.$refs.popupContent.innerHTML+="<strong>Operator:</strong> "+i.Operator+"<br>",e.$refs.popupContent.innerHTML+="<strong>Description:</strong> "+i.description+" pipeline <br>",e.popup.setPosition(r),e.closeTooltip()):i.key?(e.$refs.popupContent.innerHTML=i.key,e.popup.setPosition(r)):i.images?(e.$refs.popupContent.innerHTML=i.images,e.popup.setPosition(r)):i.vimeoSrc,e.activeFeature=o}else e.closePopup()})),window.addEventListener("keydown",(function(t){27===t.keyCode&&e.closePopup()})),window.addEventListener("resize",(function(t){e.toggleScaleLine()})),this.olmap.on("pointermove",(function(t){var o=e.olmap.getEventPixel(t.originalEvent),n=e.olmap.hasFeatureAtPixel(o);e.$refs.map.style.cursor=n?"pointer":""})),this.userLocSource=this.makeUserLocationLayer(this.olmap);var t=document.querySelector(".locateMe");t.getLocateArgs=function(e,t,o){return function(){return{map:e,source:t,handler:o}}}(this.olmap,this.userLocSource,this.handleGetUserLocation),t.addEventListener("click",this.handleZoomToMe),this.olmap.addControl(new ne["a"]({element:document.querySelector(".locateMe-control")})),this.$cookies.get("locationRequested")||this.$modal.show("dialog",{title:"Zoom to my location?",buttons:[{title:"Share my location",handler:function(t){e.handleGetUserLocation(e.userLocSource,e.olmap),e.$modal.hide("dialog"),e.$cookies.set("locationRequested",!0,"7d")}},{title:"Close",default:!0,handler:function(){e.$cookies.set("locationRequested",!0,"7d"),e.$modal.hide("dialog")}}]}),this.olmap.on("moveend",(function(e){var t=this.getView().getZoom(),o=document.querySelector(".spotlightControls");o.style.display=t>=11?"block":"none"}))}this.olmap&&setTimeout((function(){e.makePopupInfoLayer()}),1e3)},closePopup:function(){return this.popup.setPosition(void 0),this.$refs.popupCloser.blur(),this.twitterPopup.setPosition(void 0),this.$refs.twitterpopupCloser.blur(),this.vimeoPopup.setPosition(void 0),this.$refs.vimeoPopupCloser.blur(),this.$refs.vimeoPopupContent.innerHTML="",!1},closeTitletip:function(){return this.titletip.setPosition(void 0),!1},closeTextitletip:function(){return this.textitletip.setPosition(void 0),!1},closeMileagetitletip:function(){return this.mileagetitletip.setPosition(void 0),!1},closeWhitetitletip:function(){return this.whitetitletip.setPosition(void 0),!1},closeSalmontip:function(){return this.salmontip.setPosition(void 0),!1},closeTooltip:function(){return this.tooltip.setPosition(void 0),!1},zoomToFeature:function(){var e=this.activeFeature.getGeometry(),t=this.activeFeature.getProperties(),o=document.getElementById("feature-content");if(this.sidePanelInitialHtmlState=o.innerHTML,o.innerHTML=this.$refs.popupContent.innerHTML,t.imageUrl){var n=document.getElementById("sidepanel-image");this.sidePanelInitialImageSrc=n.src,n.src=this.parseUrl(t.imageUrl)}"Point"===e.getType()?this.olmap.getView().animate({center:e.getCoordinates(),zoom:14,duration:500}):(this.olmap.getView().fit(e.getExtent(),{padding:[10,10,10,10]}),this.popupInfoLayerSource.addFeature(this.activeFeature.clone())),this.popup.setPosition(void 0)},popupInfoLayerStyle:function(){var e=[];return e.push(new Z["b"]({stroke:new X["a"]({color:"rgba(236, 236, 236, 0.7)",width:20})})),e.push(new Z["b"]({fill:new K["a"]({color:"rgba(255,0,0, 0.2)"}),stroke:new X["a"]({color:"#ff0000",width:4}),image:new Q["a"]({radius:7,fill:new K["a"]({color:"#ff0000"})})})),e},makePopupInfoLayer:function(){var e=new z["a"]({wrapX:!1}),t=new D["a"]({name:"Popinfo Info Layer",zIndex:100,source:e,style:this.popupInfoLayerStyle()});this.popupInfoLayerSource=e,this.olmap.removeLayer(t),this.olmap.addLayer(t)},geoJSONPointVectorLayerStyle:function(e){return e.values_&&e.values_["icon"]&&!this.styleCache[e.values_["icon"]]&&(this.styleCache[e.values_["icon"]]=new Z["b"]({image:new ee["a"]({scale:1,rotateWithView:!1,anchor:[.5,43],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:1,src:e.values_["icon"]||"icons/XLspill.gif"})})),this.styleCache[e.values_["icon"]]},makeGeoJSONPointVectorLayerWithStyle:function(e,t,o,n,i){return new D["a"]({source:new z["a"]({url:e,format:new Y["a"]}),minResolution:o,maxResolution:n,style:this.geoJSONPointVectorLayerStyle,label:t})},geoJSONPointVectorLayerCircleStyle:function(e){return e.values_&&e.values_["rad"]&&!this.styleCache[e.values_["rad"]]&&(this.styleCache[e.values_["rad"]]=new Z["b"]({image:new Q["a"]({stroke:new X["a"]({color:"rgba(134, 40, 26, 0.5)",width:1}),fill:new K["a"]({color:"rgba(134, 40, 26, 0.3)"}),radius:Math.sqrt(e.values_["rad"])})})),this.styleCache[e.values_["rad"]]},makeGeoJSONPointVectorLayerWithCircleStyle:function(e,t,o,n,i,r,s){return new D["a"]({source:new z["a"]({url:e,format:new Y["a"]}),minResolution:o,maxResolution:n,style:this.geoJSONPointVectorLayerCircleStyle,label:t})},geoJSONPointVectorLayerCircleStyle1:function(e){return e.values_&&e.values_["production"]&&!this.styleCache[e.values_["production"]]&&(this.styleCache[e.values_["production"]]=new Z["b"]({image:new Q["a"]({stroke:new X["a"]({color:"rgba(255, 255, 255, 1)",width:1}),fill:new K["a"]({color:"rgba(129, 56, 17, 0.7)"}),radius:Math.sqrt(e.values_["production"])/150})})),this.styleCache[e.values_["production"]]},makeGeoJSONPointVectorLayerWithCircleStyle1:function(e,t,o,n){return new D["a"]({source:new z["a"]({url:e,format:new Y["a"]}),minResolution:o,maxResolution:n,style:this.geoJSONPointVectorLayerCircleStyle1,label:t})},geoJSONPointVectorLayerCircleStyle2:function(e){return e.values_&&e.values_["MW"]&&!this.styleCache[e.values_["MW"]]&&(this.styleCache[e.values_["MW"]]=new Z["b"]({image:new Q["a"]({stroke:new X["a"]({color:"rgba(0, 0, 0, 0.9)",width:1}),fill:new K["a"]({color:"rgba(195, 72, 28, 0.7)"}),radius:.4*Math.sqrt(e.values_["MW"])})})),this.styleCache[e.values_["MW"]]},makeGeoJSONPointVectorLayerWithCircleStyle2:function(e,t,o,n){return new D["a"]({source:new z["a"]({url:e,format:new Y["a"]}),minResolution:o,maxResolution:n,style:this.geoJSONPointVectorLayerCircleStyle2,label:t})},geoJSONPointVectorLayerCircleStyle3:function(e){return e.values_&&e.values_["max_ptl_release_gallons"]&&!this.styleCache[e.values_["max_ptl_release_gallons"]]&&(this.styleCache[e.values_["max_ptl_release_gallons"]]=new Z["b"]({image:new Q["a"]({stroke:new X["a"]({color:"rgba(134, 40, 26, 0.9)",width:1}),fill:new K["a"]({color:"rgba(134, 40, 26, 0.6)"}),radius:Math.sqrt(e.values_["max_ptl_release_gallons"])/70})})),this.styleCache[e.values_["max_ptl_release_gallons"]]},makeGeoJSONPointVectorLayerWithCircleStyle3:function(e,t,o,n){return new D["a"]({source:new z["a"]({url:e,format:new Y["a"]}),minResolution:o,maxResolution:n,style:this.geoJSONPointVectorLayerCircleStyle3,label:t})},geoJSONPointVectorLayerCircleStyle4:function(e){return e.values_&&e.values_["CAP"]&&!this.styleCache[e.values_["CAP"]]&&(this.styleCache[e.values_["CAP"]]=new Z["b"]({image:new Q["a"]({stroke:new X["a"]({color:"rgba(0, 0, 0, 0.9)",width:1}),fill:new K["a"]({color:"rgba(0, 200, 237, 0.8)"}),radius:Math.sqrt(e.values_["CAP"])/3})})),this.styleCache[e.values_["CAP"]]},makeGeoJSONPointVectorLayerWithCircleStyle4:function(e,t,o,n){return new D["a"]({source:new z["a"]({url:e,format:new Y["a"]}),minResolution:o,maxResolution:n,style:this.geoJSONPointVectorLayerCircleStyle4,label:t})},makeGeoJSONPointVectorLayer:function(e,t,o,n,i,r){return new D["a"]({source:new z["a"]({url:e,format:new Y["a"]}),minResolution:n,maxResolution:i,style:new Z["b"]({image:new ee["a"]({src:t,opacity:void 0===r?1:r})}),label:o})},makeGeoJSONFillVectorLayer:function(e,t,o,n,i,r){return new D["a"]({source:new z["a"]({format:new Y["a"],url:e}),minResolution:t,maxResolution:o,style:new Z["b"]({stroke:new X["a"]({color:n,width:i}),fill:new K["a"]({color:r})}),fill:r,fillColor:r})},geoJSONLineVectorLayerStyle1:function(e){return e.values_&&e.values_["color"]&&!this.styleCache[e.values_["color"]]&&(this.styleCache[e.values_["color"]]=new Z["b"]({stroke:new X["a"]({color:e.values_["color"],width:4,lineDash:[6]})})),this.styleCache[e.values_["color"]]},makeGeoJSONLineVectorLayerWithStyle1:function(e,t,o,n){return new D["a"]({source:new z["a"]({format:new Y["a"],url:e}),minResolution:t,maxResolution:o,style:this.geoJSONLineVectorLayerStyle1})},LineVectorTileLayerStyle2:function(e){return e.values_&&e.values_["color"]&&!this.styleCache[e.values_["color"]]&&(this.styleCache[e.values_["color"]]=new Z["b"]({stroke:new X["a"]({color:e.values_["color"],width:1})})),this.styleCache[e.values_["color"]]},makeLineVectorTileLayerWithStyle2:function(e,t,o,n,i){return new B["a"]({source:new q["a"]({format:new F["a"],url:e}),minResolution:t,maxResolution:o,style:this.LineVectorTileLayerStyle2})},makeGeoJSONLineVectorLayer:function(e,t,o,n,i){return new D["a"]({source:new z["a"]({format:new Y["a"],url:e}),minResolution:t,maxResolution:o,style:new Z["b"]({stroke:new X["a"]({color:n,width:i})}),strokeColor:n})},handleZoomToMe:function(e){var t=e.target.getLocateArgs(),o=t.map,n=t.source,i=t.handler;i(n,o)},handleGetUserLocation:function(e,t){var o=navigator.geolocation.watchPosition((function(n){var i=[n.coords.longitude,n.coords.latitude],r=Object(re["a"])(i,n.coords.accuracy);e.clear(!0),e.addFeatures([new se["a"](r.transform("EPSG:4326",t.getView().getProjection())),new se["a"](new ae["a"](Object(ie["c"])(i)))]),e.isEmpty()||(t.getView().fit(e.getExtent(),{maxZoom:7,duration:500}),navigator.geolocation.clearWatch(o))}),(function(e){alert("ERROR: ".concat(e.message))}),{enableHighAccuracy:!0})},makeUserLocationLayer:function(e){var t=new z["a"],o=new D["a"]({source:t});return this.olmap.addLayer(o),t},toggleScaleLine:function(){this.asideHidden||window.innerWidth<850?document.querySelector(".ol-scale-line").classList.remove("hidden"):document.querySelector(".ol-scale-line").classList.add("hidden")},setMapView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.center&&(t["center"]=Object(ie["c"])(e["center"])),e.resolution&&(t["resolution"]=e.resolution),e.minResolution?t["minResolution"]=e.minResolution:t["minResolution"]=1,e.maxResolution?t["maxResolution"]=e.maxResolution:t["maxResolution"]=16e3,this.olmap.setView(new U["a"](t))},parseUrl:function(e){var t="",o=/^https?:\/\//i;return t=!0===o.test(t)?e:new URL(e,window.location.origin).href,t},getLayerName:function(e){if(!e)return"";var t=e.getSource().getUrl(),o=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."));return o}}},he=me,fe=(o("ae58"),Object(u["a"])(he,H,J,!1,null,"014d53d2",null)),ge=fe.exports,ye=o("480c"),ve=o("9c78"),be=o("2ef1"),we=(o("4d63"),o("25f0"),o("d4ec")),Le=o("bee2"),_e=(o("fd4b"),function(){function e(t){Object(we["a"])(this,e),this.url=t,this.root=document.querySelector("body")}return Object(Le["a"])(e,[{key:"open",value:function(){this.render(this.url),this.events()}},{key:"render",value:function(e){var t=this.template('<div class="mediabox-wrap" role="dialog" aria-hidden="false"><div class="mediabox-content" role="document" tabindex="0"><span id="mediabox-esc" class="mediabox-close" aria-label="close" tabindex="1"></span><iframe src="{embed}?autoplay=1" frameborder="0" allowfullscreen></iframe></div></div>',{embed:e});this.lastFocusElement=document.activeElement,this.root.insertAdjacentHTML("beforeend",t),document.body.classList.add("stop-scroll")}},{key:"events",value:function(){var e=document.querySelector(".mediabox-wrap"),t=document.querySelector(".mediabox-content");e.addEventListener("click",function(t){(t.target&&"SPAN"===t.target.nodeName&&"mediabox-close"===t.target.className||"DIV"===t.target.nodeName&&"mediabox-wrap"===t.target.className||"mediabox-content"===t.target.className&&"IFRAME"!==t.target.nodeName)&&this.close(e)}.bind(this),!1),document.addEventListener("focus",(function(e){t&&!t.contains(e.target)&&(e.stopPropagation(),t.focus())}),!0),t.addEventListener("keypress",function(t){13===t.keyCode&&this.close(e)}.bind(this),!1)}},{key:"close",value:function(e){if(null===e)return!0;var t=null;t&&clearTimeout(t),e.classList.add("mediabox-hide"),t=setTimeout(function(){var e=document.querySelector(".mediabox-wrap");null!==e&&(document.body.classList.remove("stop-scroll"),this.root.removeChild(e),this.lastFocusElement.focus())}.bind(this),500)}},{key:"template",value:function(e,t){var o;for(o in t)t.hasOwnProperty(o)&&(e=e.replace(new RegExp("{"+o+"}","g"),t[o]));return e}}]),e}()),Pe={name:"MapPetropolis",extends:ge,data:function(){return{centerPoints:{pipelines:{center:[-99,42.9],resolution:9e3},pipelinesContested:{center:[-99,42.9],resolution:9e3},pipelinesAll:{center:[2.44,30.81],resolution:25e3},coal:{center:[-97.5,41],resolution:5700},coalWorld:{center:[2.44,30.81],resolution:25e3},gas:{center:[-99,39],resolution:7e3},gasWorld:{center:[2.44,31.01],resolution:3e4}},radius:200,mousePosition:void 0}},computed:{baseLayers:function(){var e=this,t=new ye["a"]({source:new be["a"]({attributions:["Powered by Esri","Source: Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"],url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),minResolution:.25,maxResolution:20});return t.on("precompose",(function(t){e.spotlight(t)})),t.on("postcompose",(function(e){e.context.restore()})),[t]},petropolisOilLayers:function(){return[].concat(Object(I["a"])(this.baseLayers),[this.makeGeoJSONLineVectorLayer("geojson/NorAm.geojson",1,64e3,"gray",.7),new ye["a"]({source:new be["a"]({url:"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}"}),opacity:1,minResolution:1,maxResolution:4e3}),this.makeGeoJSONLineVectorLayerWithStyle1("geojson/CancelledOilLines.geojson",1,32e3,3),this.makeGeoJSONLineVectorLayer("geojson/OilPipes1-key.geojson",1,64e3,"black",3),this.makeGeoJSONLineVectorLayer("geojson/OilPipes2-key.geojson",1,64e3,"black",3),this.makeGeoJSONLineVectorLayer("geojson/CanadianPipes-key.geojson",1,64e3,"black",3),this.makeGeoJSONLineVectorLayer("geojson/ContestedOilLines-key.geojson",1,16e3,"black",8.5),this.makeGeoJSONLineVectorLayer("geojson/ContestedOilLines-key.geojson",1,16e3,"#fb5c04",3.5)])},petropolisOilPipelineLayers:function(){return[new ye["a"]({source:new be["a"]({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}.png"}),opacity:1,minResolution:.25})].concat(Object(I["a"])(this.baseLayers),[this.makeGeoJSONPointVectorLayerWithCircleStyle("geojson/Spills_20yrs.geojson",null,4,2e3,"rgba(134, 40, 26, 0.4)",1,"rgba(134, 40, 26, 0.3)"),this.makeGeoJSONLineVectorLayer("geojson/NA-RR.geojson",16,4e3,"rgba(105, 105, 105, 0.4)",1),this.makeGeoJSONPointVectorLayer("geojson/Terminals.geojson","icons/terminal.png",null,1,2e3),this.makeGeoJSONLineVectorLayerWithStyle1("geojson/CancelledOilLines.geojson",1,32e3,3),this.makeGeoJSONLineVectorLayer("geojson/OilPipes1.geojson",1,64e3,"black",3),this.makeGeoJSONLineVectorLayer("geojson/OilPipes2.geojson",1,64e3,"black",3),this.makeGeoJSONLineVectorLayer("geojson/CanadianPipes.geojson",1,64e3,"black",3),this.makeGeoJSONLineVectorLayer("geojson/ContestedOilLines.geojson",1,16e3,"black",8.5),this.makeGeoJSONLineVectorLayer("geojson/ContestedOilLines.geojson",1,16e3,"#fb5c04",3.5),this.makeGeoJSONLineVectorLayer("geojson/GlobalPipelines.geojson",20,64e3,"#000000",2.5),this.makeGeoJSONPointVectorLayer("geojson/US_Refineries.geojson","icons/Refinery3.png",null,1,16e3),this.makeGeoJSONPointVectorLayer("geojson/GlobalRefineries.geojson","icons/Refinery3.png",null,1,16e3),this.makeGeoJSONPointVectorLayer("geojson/CrudeDerailments.geojson","icons/Explosion3.png",null,1,16e3)])},petropolisOilWorldLayers:function(){var e=this;return[new ye["a"]({source:new be["a"]({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}"}),opacity:1,minResolution:200}),new ye["a"]({source:new be["a"]({url:"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}"}),opacity:1,minResolution:200,maxResolution:32e3}),new ye["a"]({source:new be["a"]({url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png"}),opacity:1,minResolution:.25,maxResolution:200}),new ye["a"]({minResolution:.25,opacity:1,source:new be["a"]({tileUrlFunction:function(t,o,n){var i=t[0],r=t[1],s=-t[2]-1;return"https://t0.tiles.virtualearth.net/tiles/t"+e.computeQuadKey(r,s,i)+".jpg"}}),maxZoom:17,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0})].concat(Object(I["a"])(this.baseLayers),[this.makeGeoJSONFillVectorLayer("geojson/Crude_Terminals.geojson",.25,40,"rgba(169, 169, 169, 0.9)",3,"rgba(169, 169, 169, 0.4)"),this.makeGeoJSONLineVectorLayer("geojson/OilPipes1.geojson",1,64e3,"black",3),this.makeGeoJSONLineVectorLayer("geojson/OilPipes2.geojson",1,64e3,"black",3),this.makeGeoJSONLineVectorLayer("geojson/CanadianPipes.geojson",1,64e3,"black",3),this.makeGeoJSONLineVectorLayer("geojson/ContestedOilLines.geojson",1,8e3,"black",7),this.makeGeoJSONLineVectorLayer("geojson/ContestedOilLines.geojson",1,8e3,"#fd6a02",3.5),this.makeGeoJSONLineVectorLayer("geojson/GlobalPipelines.geojson",20,64e3,"#000000",2.5),this.makeGeoJSONPointVectorLayer("geojson/US_Refineries.geojson","icons/Refinery3.png",null,1,8e3),this.makeGeoJSONPointVectorLayer("geojson/GlobalRefineries.geojson","icons/Refinery3.png",null,1,8e3),this.makeGeoJSONPointVectorLayer("geojson/US_Refineries.geojson","icons/Refinery4.png",null,8e3,32e3),this.makeGeoJSONPointVectorLayer("geojson/GlobalRefineries.geojson","icons/Refinery4.png",null,8e3,32e3)])},petropolisGasLayers:function(){return[].concat(Object(I["a"])(this.baseLayers),[this.makeGeoJSONLineVectorLayer("geojson/NorAm.geojson",1.5,64e3,"black",.8),new ye["a"]({source:new be["a"]({url:"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}"}),opacity:1,minResolution:1,maxResolution:4e3}),new B["a"]({source:new q["a"]({format:new F["a"],url:"https://ecotopia.today/Petropolis/GasPipes2/{z}/{x}/{y}.pbf"}),style:new Z["b"]({stroke:new X["a"]({color:"#cc0000",width:1,opacity:1})})}),this.makeGeoJSONLineVectorLayer("geojson/ContestedGasLines.geojson",.5,16e3,"black",6.5),this.makeGeoJSONLineVectorLayer("geojson/ContestedGasLines.geojson",.5,16e3,"#00c8f0",3)])},petropolisGasIndustryLayers:function(){return[new ye["a"]({source:new be["a"]({url:"https://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}"}),opacity:.8,minResolution:.25})].concat(Object(I["a"])(this.baseLayers),[this.makeGeoJSONFillVectorLayer("geojson/ShalePlays.geojson",40,64e3,"rgba(91, 73, 14, 0.7)",.5,"rgba(91, 73, 14, 0.3)"),new B["a"]({source:new q["a"]({format:new F["a"],url:"https://ecotopia.today/Petropolis/GasPipes2/{z}/{x}/{y}.pbf"}),style:new Z["b"]({stroke:new X["a"]({color:"#00c8f0",width:1.5,opacity:1})})}),this.makeGeoJSONPointVectorLayer("geojson/USnatGas.geojson","icons/NatGas3.png",null,1,1600),this.makeGeoJSONPointVectorLayer("geojson/GlobalNatGas.geojson","icons/NatGas3.png",null,1,1600),this.makeGeoJSONPointVectorLayer("geojson/USnatGas.geojson","icons/NatGas2.png",null,1600,8e3),this.makeGeoJSONPointVectorLayer("geojson/GlobalNatGas.geojson","icons/NatGas2.png",null,800,8e3),this.makeGeoJSONPointVectorLayer("geojson/USnatGas.geojson","icons/NatGas1.png",null,8e3,32e3),this.makeGeoJSONLineVectorLayer("geojson/ContestedGasLines.geojson",.5,16e3,"black",6.5),this.makeGeoJSONLineVectorLayer("geojson/ContestedGasLines.geojson",.5,16e3,"#00c8f0",3),this.makeGeoJSONPointVectorLayer("geojson/GlobalNatGas.geojson","icons/NatGas1.png",null,8e3,32e3),this.makeGeoJSONPointVectorLayer("geojson/LNGterminals.geojson","icons/LNGterminal.png",null,1,16e3),this.makeGeoJSONPointVectorLayer("geojson/Gasland.geojson","icons/PetropolisGasland2.gif",null,4,8e3)])},petropolisGasWorldLayers:function(){return[new ye["a"]({source:new be["a"]({url:"https://maps.heigit.org/openmapsurfer/tiles/roads/webmercator/{z}/{x}/{y}.png"}),opacity:1,minResolution:.25})].concat(Object(I["a"])(this.baseLayers),[this.makeGeoJSONFillVectorLayer("geojson/ShaleBasins.geojson",.25,64e3,"rgba(56, 132, 189, 0.7)",.5,"rgba(7, 29, 81, 0.2)"),this.makeGeoJSONPointVectorLayer("geojson/USnatGas.geojson","icons/NatGas2.png",null,1,64e3),this.makeGeoJSONPointVectorLayer("geojson/GlobalNatGas.geojson","icons/NatGas2.png",null,1,64e3),this.makeGeoJSONPointVectorLayer("geojson/USnatGas.geojson","icons/NatGas2.png",null,1,64e3),this.makeGeoJSONPointVectorLayer("geojson/GlobalNatGas.geojson","icons/NatGas2.png",null,1,64e3)])},petropolisCoalLayers:function(){return[new ye["a"]({source:new be["a"]({url:"https://{a-d}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png"}),opacity:1,minResolution:.5}),new ye["a"]({source:new be["a"]({url:"https://services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer/tile/{z}/{y}/{x}.png"}),opacity:.1,minResolution:.5})].concat(Object(I["a"])(this.baseLayers),[this.makeGeoJSONLineVectorLayer("geojson/NA-RR.geojson",16,16e3,"rgba(255, 255, 255, 0.6)",1),this.makeGeoJSONPointVectorLayer("geojson/Coal.geojson","icons/Smokestack6.png",null,1,64e3),this.makeGeoJSONPointVectorLayerWithCircleStyle1("geojson/Coal_Mines.geojson",null,4,64e3,"rgba(134, 40, 26, 0.4)",1,"rgba(134, 40, 26, 0.3)")])},petropolisCoalIndustryLayers:function(){return[new ye["a"]({source:new be["a"]({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}.png"}),opacity:1,minResolution:.25})].concat(Object(I["a"])(this.baseLayers),[this.makeGeoJSONPointVectorLayer("geojson/SurfaceCoal.geojson","icons/Truck.png",null,1,800),this.makeGeoJSONPointVectorLayer("geojson/UndergroundCoal.geojson","icons/CoalWagon.png",null,1,800),this.makeGeoJSONPointVectorLayer("geojson/CoalAsh.geojson","icons/CoalAsh3.png",null,1,16e3),this.makeGeoJSONPointVectorLayer("geojson/Coal.geojson","icons/Smokestack3.png",null,1,8e3)])},petropolisCoalWorldLayers:function(){var e;return[new ye["a"]({source:new be["a"]({url:"https://gibs.earthdata.nasa.gov/wmts/epsg3857/best/VIIRS_CityLights_2012/default/GoogleMapsCompatible_Level8/{z}/{y}/{x}.jpg"}),opacity:1,minResolution:200}),new ye["a"]({source:new be["a"]({url:"https://api.mapbox.com/styles/v1/bkholmes/ck9ogzy1a25m01ipb9zpsishl/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYmtob2xtZXMiLCJhIjoiNjlkYjI4MDUyYTRlZWEyYzkwYTdmOTgxNmMzOGYwMTUifQ.VSUo52PYOUzS60NR6jqXTw"}),opacity:.8,minResolution:.25,maxResolution:800,transition:750}),new ye["a"]((e={title:"OpenRailwayMap",visible:!0,minResolution:40,opacity:1,source:new be["a"]({url:"https://{a-c}.tiles.openrailwaymap.org/signals/{z}/{x}/{y}.png",crossOrigin:null,tilePixelRatio:2,maxZoom:21,opaque:!1,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0})},Object(b["a"])(e,"opacity",.6),Object(b["a"])(e,"minResolution",2),Object(b["a"])(e,"maxResolution",4e3),e))].concat(Object(I["a"])(this.baseLayers),[this.makeGeoJSONLineVectorLayer("geojson/NA-RR.geojson",16,8e3,"rgba(105, 105, 105, 0.5)",1),this.makeGeoJSONPointVectorLayer("geojson/CoalMines.geojson","icons/CoalMine.png",null,1,2e3),this.makeGeoJSONPointVectorLayer("geojson/Coal.geojson","icons/Smokestack3.png",null,1,6e3),this.makeGeoJSONPointVectorLayer("geojson/Coal.geojson","icons/Smokestack4.png",null,6e3,64e3)])}},created:function(){Ve.$on("route-click",this.initMap)},beforeDestroy:function(){Ve.$off("route-click",this.initMap)},mounted:function(){var e=this;this.initMap(),window.addEventListener("keydown",(function(t){38===t.keyCode?(e.radius=Math.min(e.radius+5,800),e.olmap.render()):40===t.keyCode&&(e.radius=Math.max(e.radius-5,0),e.olmap.render())})),this.olmap.on("pointermove",(function(t){var o=e.olmap.forEachFeatureAtPixel(t.pixel,(function(e){return e}));if(o){var n=o.getProperties();n.key&&(e.$refs.titletipContent.innerHTML=n.key,e.titletip.setPosition(t.coordinate))}else e.closeTitletip(),e.closeTooltip();e.mousePosition=e.olmap.getEventPixel(t.originalEvent),e.olmap.render()}))},methods:{initMap:function(){switch(this.$route.name){case"petropolisOil":this.initPetropolisOil();break;case"petropolisOilIndustry":this.initpetropolisOilIndustry();break;case"petropolisOilWorld":this.initPetropolisOilWorld();break;case"petropolisCoal":this.initPetropolisCoal();break;case"petropolisCoalIndustry":this.initPetropolisCoalIndustry();break;case"petropolisCoalWorld":this.initPetropolisCoalWorld();break;case"petropolisGas":this.initPetropolisGas();break;case"petropolisGasIndustry":this.initPetropolisGasIndustry();break;case"petropolisGasWorld":this.initPetropolisGasWorld();break;default:this.initPetropolisOil()}},initPetropolisOil:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ve["a"]({layers:this.petropolisOilLayers})),this.olmap.setView(new U["a"]({center:Object(ie["c"])(this.centerPoints.pipelines.center),resolution:this.centerPoints.pipelines.resolution,minResolution:.5,maxResolution:32e3}))},initpetropolisOilIndustry:function(){var e=this;this.initBaseMap(),this.olmap.setLayerGroup(new ve["a"]({layers:this.petropolisOilPipelineLayers})),this.olmap.setView(new U["a"]({center:Object(ie["c"])(this.centerPoints.pipelinesContested.center),resolution:this.centerPoints.pipelinesContested.resolution,minResolution:.25,maxResolution:32e3})),this.olmap&&this.olmap.on("singleclick",(function(t){var o=e.olmap.forEachFeatureAtPixel(t.pixel,(function(e){return e}));if(o){var n=o.getProperties();if(n.vimeoSrc){var i=new _e(n.vimeoSrc);i.open()}}}))},initPetropolisOilWorld:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ve["a"]({layers:this.petropolisOilWorldLayers})),this.olmap.setView(new U["a"]({center:Object(ie["c"])(this.centerPoints.pipelinesAll.center),resolution:this.centerPoints.pipelinesAll.resolution,minResolution:.25,maxResolution:32e3}))},initPetropolisCoal:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ve["a"]({layers:this.petropolisCoalLayers})),this.olmap.setView(new U["a"]({center:Object(ie["c"])(this.centerPoints.coal.center),resolution:this.centerPoints.coal.resolution,minResolution:.5,maxResolution:64e3}))},initPetropolisCoalIndustry:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ve["a"]({layers:this.petropolisCoalIndustryLayers})),this.olmap.setView(new U["a"]({center:Object(ie["c"])(this.centerPoints.coal.center),resolution:this.centerPoints.coal.resolution,minResolution:.5,maxResolution:64e3}))},initPetropolisCoalWorld:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ve["a"]({layers:this.petropolisCoalWorldLayers})),this.olmap.setView(new U["a"]({center:Object(ie["c"])(this.centerPoints.coalWorld.center),resolution:this.centerPoints.coalWorld.resolution,minResolution:.5,maxResolution:64e3}))},initPetropolisGas:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ve["a"]({layers:this.petropolisGasLayers})),this.olmap.setView(new U["a"]({center:Object(ie["c"])(this.centerPoints.gas.center),resolution:this.centerPoints.gas.resolution,minResolution:.5,maxResolution:16e3}))},initPetropolisGasIndustry:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ve["a"]({layers:this.petropolisGasIndustryLayers})),this.olmap.setView(new U["a"]({center:Object(ie["c"])(this.centerPoints.gas.center),resolution:this.centerPoints.gas.resolution,minResolution:.5,maxResolution:16e3}))},initPetropolisGasWorld:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ve["a"]({layers:this.petropolisGasWorldLayers})),this.olmap.setView(new U["a"]({center:Object(ie["c"])(this.centerPoints.gasWorld.center),resolution:this.centerPoints.gasWorld.resolution,minResolution:.5,maxResolution:32e3}))},initPetropolisTarSands:function(){var e=this;this.initBaseMap(),this.olmap.setLayerGroup(new ve["a"]({layers:this.petropolisTarSandsLayers})),this.olmap.setView(new U["a"]({center:Object(ie["c"])(this.centerPoints.tarsands.center),resolution:this.centerPoints.tarsands.resolution,minResolution:.5,maxResolution:16e3})),this.olmap&&this.olmap.on("singleclick",(function(t){var o=e.olmap.forEachFeatureAtPixel(t.pixel,(function(e){return e}));if(o){var n=o.getProperties();if(n.vimeoSrc2){var i=new _e(n.vimeoSrc2);i.open()}}}))},computeQuadKey:function(e,t,o){for(var n=[],i=o;i>0;i--){var r=0,s=1<<i-1;0!==(e&s)&&r++,0!==(t&s)&&(r+=2),n.push(r)}return n.join("")},spotlight:function(e){var t=e.context,o=e.frameState.pixelRatio;t.save(),t.beginPath(),this.mousePosition&&(t.arc(this.mousePosition[0]*o,this.mousePosition[1]*o,this.radius*o,0,2*Math.PI),t.lineWidth=6*o,t.strokeStyle="rgba(0,0,0,0.5)",t.stroke()),t.clip()}}},Ce=Pe,Oe=Object(u["a"])(Ce,ue,de,!1,null,null,null),Se=Oe.exports;h["a"].use($["a"]);var ke=new $["a"]({routes:[{path:"/",redirect:"/petropolis/oil"},{path:"/petropolis/oil",name:"petropolisOil",components:{default:V["default"],map:Se}},{path:"/petropolis/oil/industry",name:"petropolisOilIndustry",components:{default:function(){return Promise.resolve().then(o.bind(null,"f2fb"))},map:Se}},{path:"/petropolis/oil/world",name:"petropolisOilWorld",components:{default:function(){return Promise.resolve().then(o.bind(null,"f2fb"))},map:Se}},{path:"/petropolis/coal",name:"petropolisCoal",components:{default:function(){return o.e("chunk-4640ef3a").then(o.bind(null,"f0ad"))},map:Se}},{path:"/petropolis/coal/industry",name:"petropolisCoalIndustry",components:{default:function(){return o.e("chunk-4640ef3a").then(o.bind(null,"f0ad"))},map:Se}},{path:"/petropolis/coal/world",name:"petropolisCoalWorld",components:{default:function(){return o.e("chunk-4640ef3a").then(o.bind(null,"f0ad"))},map:Se}},{path:"/petropolis/gas",name:"petropolisGas",components:{default:function(){return o.e("chunk-44145c42").then(o.bind(null,"c486"))},map:Se}},{path:"/petropolis/gas/industry",name:"petropolisGasIndustry",components:{default:function(){return o.e("chunk-44145c42").then(o.bind(null,"c486"))},map:Se}},{path:"/petropolis/gas/world",name:"petropolisGasWorld",components:{default:function(){return o.e("chunk-44145c42").then(o.bind(null,"c486"))},map:Se}}]});h["a"].use(w["a"]);var je={asideHidden:!1},Ge={toggle:function(e){e.asideHidden=!e.asideHidden}},xe={toggle:function(e){e.commit("toggle")}},Me={asideHidden:function(e){return e.asideHidden}},Ne=new w["a"].Store({state:je,getters:Me,actions:xe,mutations:Ge}),Te=o("1881"),Re=o.n(Te);o.d(t,"eventBus",(function(){return Ve})),o.d(t,"appSelector",(function(){return $e}));var $e="#app";h["a"].use(g.a),h["a"].use(g.a),h["a"].use(Re.a,{dialog:!0,dynamic:!0,dynamicDefaults:{clickToClose:!1}}),h["a"].component(l,m),h["a"].use(i.a),h["a"].use(g.a),h["a"].config.productionTip=!1;var Ve=new h["a"];fetch("./static/app-conf.json").then((function(e){200===e.status?e.json().then((function(e){h["a"].prototype.$appConfig=e})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error :-S",e)})),new h["a"]({router:ke,store:Ne,render:function(e){return e(R)}}).$mount("#app")},"5e2e":function(e,t,o){},"767f":function(e,t,o){},"85ec":function(e,t,o){},9912:function(e,t,o){},"9ace":function(e,t,o){"use strict";var n=o("1288"),i=o.n(n);i.a},"9f2d":function(e,t,o){"use strict";var n=o("767f"),i=o.n(n);i.a},a347:function(e,t,o){},ae58:function(e,t,o){"use strict";var n=o("9912"),i=o.n(n);i.a},b059:function(e,t,o){},d3c3:function(e,t,o){"use strict";var n=o("d602"),i=o.n(n);i.a},d54e:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("article",{ref:"accordion",class:e.accordionClasses},[o("div",{staticClass:"heading",on:{click:e.toggleAccordion}},[e.isOpen?o("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_up")]):o("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_down")]),e._v(" "),o("span",{staticClass:"headingText"},[e._t("header")],2)]),e._v(" "),o("div",{staticClass:"body"},[o("div",{staticClass:"content"},[e._t("default")],2)])])},i=[],r={name:"Accordion",props:{open:Boolean},data:function(){return{isOpen:this.open}},computed:{accordionClasses:function(){return{"is-closed":!this.isOpen}}},methods:{toggleAccordion:function(){var e=this;this.isOpen=!this.isOpen,this.isOpen&&this.$refs.accordion.offsetTop>window.innerHeight&&setTimeout((function(){e.$refs.accordion.scrollIntoView()}),500)}}},s=r,a=(o("d3c3"),o("2877")),l=Object(a["a"])(s,n,i,!1,null,"2942699e",null);t["a"]=l.exports},d602:function(e,t,o){},e711:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"link",on:{click:e.open}},[e._t("default")],2),e._v(" "),e.isOpen?o("LightBox",{attrs:{images:e.images,showCaption:!0},on:{onOpened:e.onOpenChange}}):e._e()],1)},i=[],r=o("1c09"),s=o.n(r),a={name:"AppLightBox",components:{LightBox:s.a},props:{images:Array},data:function(){return{isOpen:!1}},methods:{open:function(){this.isOpen=!0},onOpenChange:function(e){this.isOpen=e}}},l=a,c=(o("2352"),o("2877")),p=Object(c["a"])(l,n,i,!1,null,"5cc4adc2",null);t["a"]=p.exports},f2fb:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"aside-content"},[e._m(0),e._v(" "),o("div",{attrs:{id:"feature-content"}},[o("div",{staticClass:"caption"},[e._v("* these features appear when you zoom in>")]),e._v(" "),e._m(1),e._v(" "),o("p",[e._v('For information about any of the elements, click on a line or a marker. The locations of most pipelines are approximate, but other features such as refineries are  accurate. When you zoom in close, a "spotlight" opens, allowing you to see what\'s on the ground.')]),e._v(" "),o("p",[e._v("The buttons at lower left activate similar maps of coal and natural gas installations. The view is initially centered on the US, but you can hit the buttom at the bottom (center) to see the whole world. As it stands today, everywhere is Petropolis.")]),e._v(" "),o("br"),e._v(" "),o("Accordion",{attrs:{open:!1}},[o("h3",{attrs:{slot:"header"},slot:"header"},[e._v("sources")]),e._v(" "),o("div",{staticClass:"flex"},[o("p",[e._v("Coming...")])])])],1)])},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("p",[o("img",{staticClass:"fullwidth",attrs:{id:"sidepanel-image",src:"icons/Legend.png"}})])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("p",{staticStyle:{"font-size":"120%"}},[o("strong",[o("em",[e._v("This map shows the major petroleum infrastructures of the United States and the world. From wellheads, platforms, ports and railway loaders, crude oil is piped to refineries that produce gas, diesel, kerosene, jet fuel, asphalt, petcoke and vast quantities of CO2.")])])])}],r=o("e711"),s=o("d54e"),a=o("56d7"),l={name:"PetropolisOil",components:{Accordion:s["a"],AppLightBox:r["a"]},methods:{emit:function(e,t){a["eventBus"].$emit(e,t)}}},c=l,p=(o("029e"),o("2877")),u=Object(p["a"])(c,n,i,!1,null,"b5803bc0",null);t["default"]=u.exports},fd4b:function(e,t,o){}});
//# sourceMappingURL=app.af2c8dbd.js.map